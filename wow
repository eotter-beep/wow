#!/usr/bin/env python3
"""
  The Wow! compiler â€” built by amazing people like eotter-beep
"""
import os
from pycparser import c_parser

path = input("Enter a path (full path): ").strip()
print(f"Compiling {path}...")

# Safely read the file
try:
    with open(path, "r") as f:
        content = f.read()
except FileNotFoundError:
    print(f"Error: file '{path}' not found.")
    exit(1)

# Parse C code into an AST
parser = c_parser.CParser()
try:
    ast = parser.parse(content, filename=path)
except Exception as e:
    print(f"Parsing error: {e}")
    exit(1)

# Display the AST
ast.show()

# (Optional) If you actually meant to run the file:
# os.system(f'python3 "{path}"')
